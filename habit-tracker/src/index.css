@tailwind base;
@tailwind components;
@tailwind utilities;

/* === Layout === */
.container-slim { @apply max-w-6xl mx-auto px-3 md:px-4; }
.app-bg         { @apply min-h-screen bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100; }
.header-bar     { @apply sticky top-0 z-10 bg-white/80 backdrop-blur border-b border-gray-200 dark:bg-gray-900/80 dark:border-gray-700 dark:text-gray-100; }
.sidebar        { @apply w-48 flex flex-col p-4 space-y-2 border-r bg-white text-gray-900 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100; }
.sidebar-title  { @apply text-lg font-semibold mb-4; }
.sidebar-link   { @apply block px-4 py-2 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition; }
.sidebar-link-active { @apply bg-gray-200 text-gray-900 dark:bg-gray-700 dark:text-white; }

/* === Buttons === */
.btn     { @apply inline-flex items-center gap-1 rounded-md border border-gray-300 px-3 py-2 text-sm bg-white hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600; }
.btn-sm  { @apply inline-flex items-center gap-1 rounded-md border border-gray-300 px-2 py-1 text-xs bg-white hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600; }
.btn-primary { @apply bg-blue-500 text-white border-blue-500 hover:bg-blue-600 dark:bg-blue-400 dark:border-blue-400 dark:hover:bg-blue-500; }
.btn-danger  { @apply bg-red-500 text-white border-red-500 hover:bg-red-600 dark:bg-red-400 dark:border-red-400 dark:hover:bg-red-500; }

/* === Inputs & Selects === */
.input     { @apply w-full rounded-md border border-gray-300 px-3 py-2 text-sm bg-white dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100; }
.input-sm  { @apply w-full rounded-md border border-gray-300 px-2 py-1 text-xs h-8 bg-white dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100; }
.select    { @apply rounded-md border border-gray-300 px-2 py-2 text-sm bg-white dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100; }
.select-sm { @apply rounded-md border border-gray-300 px-2 py-1 text-xs h-8 bg-white dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100; }

/* === Cards & Badges === */
.card    { @apply rounded-xl border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100; }
.card-s  { @apply rounded-lg border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100; }
.badge   { @apply inline-flex items-center rounded-md border border-gray-200 bg-gray-50 px-2 py-0.5 text-[11px] dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100; }

/* === Typography === */
.title   { @apply text-lg font-semibold dark:text-gray-100; }
.subtle  { @apply text-xs text-gray-500 dark:text-gray-400; }

/* === Animations === */
@keyframes flash-green {
  0%   { background-color: #bbf7d0; } /* Tailwind green-200 */
  100% { background-color: transparent; }
}
.flash-success {
  @apply dark:animate-none; /* optional: avoid green flash in dark if it looks odd */
  animation: flash-green 0.7s ease forwards;
}





/* === Grid helper === */
.grid-tight { @apply grid gap-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 
         bg-white dark:bg-gray-900; /* âœ… ensures background matches theme */
}

/* === Animations === */
@keyframes flash-green {
  0%   { background-color: #bbf7d0; } /* Tailwind green-200 */
  100% { background-color: transparent; }
}



/* === Icon Picker === */
.icon-picker {
  @apply flex flex-wrap gap-1;
}

.icon-picker-btn {
  @apply px-2 py-1 text-sm rounded border border-gray-300 
         bg-white hover:bg-gray-50 
         dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-100;
}

.icon-picker-btn-active {
  @apply bg-gray-200 border-gray-400 
         dark:bg-gray-600 dark:border-gray-400;
}


/* Success (used for saving, confirming actions) */
.btn-success {
  @apply bg-green-500 text-white border-green-500 hover:bg-green-600
         dark:bg-green-400 dark:border-green-400 dark:hover:bg-green-500;
}



/* === Inputs === */
.input {
  @apply w-full rounded-md border border-gray-300 px-3 py-2 text-sm
         bg-white text-gray-900
         dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100;
}

.input-sm {
  @apply w-full rounded-md border border-gray-300 px-2 py-1 text-xs h-8
         bg-white text-gray-900
         dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100;
}

/* === Badges === */
.badge {
  @apply inline-flex items-center gap-1 rounded-md border border-gray-200 bg-gray-50
         px-2 py-0.5 text-[11px] font-medium
         dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100;
}

.badge-success {
  @apply badge border-green-300 bg-green-100 text-green-700
         dark:border-green-500 dark:bg-green-700 dark:text-green-100;
}

.badge-danger {
  @apply badge border-red-300 bg-red-100 text-red-700
         dark:border-red-500 dark:bg-red-700 dark:text-red-100;
}

.badge-warning {
  @apply badge border-amber-300 bg-amber-100 text-amber-700
         dark:border-amber-500 dark:bg-amber-700 dark:text-amber-100;
}



/* Completion ring */
.completion-ring-bg { @apply stroke-gray-200 dark:stroke-gray-600; }
.completion-ring-label { @apply text-[8px] font-medium text-gray-700 dark:text-gray-200 leading-none; }

/* WeekDots */
.week-dot        { @apply transition-colors; }
.week-dot-done   { @apply fill-green-600 dark:fill-green-400; }
.week-dot-skipped{ @apply fill-amber-500 dark:fill-amber-400; }
.week-dot-missed { @apply fill-red-500 dark:fill-red-400; }
.week-dot-none   { @apply fill-gray-200 dark:fill-gray-600; }

/* Optional subtle flash (no scale jump) */
@keyframes flash-green {
  0%   { background-color: #22c55e20; }
  100% { background-color: transparent; }
}
.flash-success { animation: flash-green 0.6s ease; }
